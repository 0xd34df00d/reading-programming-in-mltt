Not sure what's the purrpose of the $y \in B(x)$ premise
if $y$ cannot occur free neither in $d$ nor in $C$ (p. 115, rule at the top).

My intuition is that if this variable cannot occur in $d$ nor in $C$,
then neither $d$ nor $C$ can use the fact that $B(x)$ is true (or, equivalently, that $B$ holds for $x$).
On one hand, this makes sense â€” elements of subsets as defined in basic set theory don't carry the witness of the predicate.
On the other hand, why not just drop the premise entirely if we cannot make use of it?

It seems like the following paragraph is related, but I cannot make enough sense out of it. Comments welcome.
